!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.itp=r():e.itp=r()}(this,(()=>(()=>{"use strict";var e={d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function t(e,r){if(e){if("string"==typeof e)return n(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}e.r(r),e.d(r,{criarGrafico:()=>s});var o={},a=[],i={"01":"Janeiro","02":"Fevereiro","03":"Mar√ßo","04":"Abril","05":"Maio","06":"Junho","07":"Julho","08":"Agosto","09":"Setembro",10:"Outubro",11:"Novembro",12:"Dezembro"};function l(e){return 0===Object.keys(o).length?e:e.filter((function(e){return Object.entries(o).every((function(r){var n,o,a=(o=2,function(e){if(Array.isArray(e))return e}(n=r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(n,o)||t(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],u=a[1],s=e[l];if(l.includes("data")){var d=null==s?void 0:s.slice(5,7),c=i[d];return u.includes(c)}return u.includes(s)}))}))}function u(e,r){var t=new Map;return e.forEach((function(e){var n=e[r];if(n){if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(n)){var o=n.slice(5,7);n=i[o]}t.set(n,(t.get(n)||0)+1)}})),{labels:Array.from(t.keys()),valores:Array.from(t.values())}}function s(e,r,i,s,d,c){var f,b=function(e){if(Array.isArray(e))return n(e)}(f=c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(f)||t(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=u(l(b),i),p=y.labels,v=y.valores,m=new Chart(e,{type:r,data:{labels:p,datasets:[{label:i,data:v,backgroundColor:s.slice(0,p.length),borderWidth:1}]},options:{plugins:{legend:{display:!0,labels:{generateLabels:function(e){var r=e.data.datasets[0];return e.data.labels.map((function(t,n){return{text:t,fillStyle:r.backgroundColor[n],strokeStyle:r.borderColor?r.borderColor[n]:r.backgroundColor[n],hidden:!e.getDataVisibility(n),index:n}}))}},onClick:function(e,r){var t=m.data.labels[r.index];(function(e,r,t){o[r]||(o[r]=[]);var n=o[r].indexOf(t);-1===n?o[r].push(t):(o[r].splice(n,1),0===o[r].length&&delete o[r])})(0,i,t),a.forEach((function(e){var r=e.grafico,t=e.dadosOriginais,n=e.parametro_busca,o=u(l(t),n),a=o.labels,i=o.valores;r.data.labels=a,r.data.datasets[0].data=i,r.update()}))}}},scales:"bar"===r||"line"===r?{x:{beginAtZero:!0},y:{beginAtZero:!0}}:void 0}});a.push({grafico:m,dadosOriginais:b,parametro_busca:i})}return r})()));